# Application Host & Port
HOST=localhost                     # Server host
PORT=3000                          # Server port

# Environment Mode
NODE_ENV=development               # Application environment (development | production)

# JWT Access Token Configuration
ACCESS_TOKEN_SECRET=1d             # Secret key for signing access tokens (replace with a strong secret in production)
ACCESS_TOKEN_EXPIRATION=1d         # Access token expiration time (e.g. 1d, 12h)

# JWT Refresh Token Configuration (optional â€” should be configured)
REFRESH_TOKEN_SECRET=              # Secret key for signing refresh tokens
REFRESH_TOKEN_EXPIRATION=          # Refresh token expiration time

# Database Configuration
DATABASE_URL="postgresql://postgres:postgres@localhost:5433/nestjs"  

# Google Cloud Storage + Vertex AI
GCS_BUCKET=                        # GCS bucket name
GCP_PROJECT_ID=                    # Optional, uses default credentials if empty
GCP_CLIENT_EMAIL=                  # Optional, service account email for local dev
GCP_PRIVATE_KEY=                   # Optional, service account private key for local dev
GCP_LOCATION=         # Vertex AI region

# Health Checks
DISK_HEALTH_THRESHOLD=0.98         # Disk usage threshold (0-1). Increase if dev machine is full.

# Mail Configuration
MAIL_HOST='smtp.ethereal.email'    # SMTP server host (e.g. smtp.gmail.com)
MAIL_PORT=587                      # SMTP server port (587 for TLS, 465 for SSL)
MAIL_USERNAME='magdalena.macgyver@ethereal.email'  # Email account username
MAIL_PASSWORD='rZjQcxa5nWWT89DprM'                # Email account password
MAIL_SECURE=false                  # Use TLS (true if using port 465)

GEMINI_MODEL=gemini-1.5-flash      # Default model

# CORS Configuration
ALLOWED_ORIGINS=*                  # Allowed CORS origins (use * to allow all or comma-separated origins)

# API Configuration
API_PREFIX=api                     # Global API route prefix (e.g. /api)

# Worker integration
WORKER_TASK_URL=                   # e.g. http://localhost:4001/scrape
WORKER_AUTH_TOKEN=                 # optional bearer token for worker
WORKER_CALLBACK_URL=               # optional callback URL override (defaults to http://HOST:PORT/API_PREFIX/job-sources/complete)
WORKER_CALLBACK_TOKEN=             # optional bearer token for worker callback
WORKER_CALLBACK_SIGNING_SECRET=    # optional HMAC secret for worker callback signing
WORKER_CALLBACK_SIGNATURE_TOLERANCE_SEC=300  # signature timestamp tolerance window in seconds
WORKER_REQUEST_TIMEOUT_MS=5000     # how long API waits for worker response
API_BODY_LIMIT=1mb                # max accepted request body size (express/body-parser format)
SCRAPE_DB_REUSE_HOURS=24           # how long completed scrape runs can be reused for DB-first offer materialization
SCRAPE_MAX_ACTIVE_RUNS_PER_USER=2 # max active (PENDING/RUNNING) scrape runs per user
AUTO_SCORE_ON_INGEST=true          # automatically score newly ingested user job offers after scrape completion
AUTO_SCORE_CONCURRENCY=1           # bounded scoring concurrency for ingest-time scoring
AUTO_SCORE_MIN_SCORE=0             # threshold used when auto-scoring on ingest
AUTO_SCORE_RETRY_ATTEMPTS=2        # retry attempts per offer scoring on ingest
NOTEBOOK_APPROX_VIOLATION_PENALTY=10 # per-hard-violation penalty in approx notebook mode
NOTEBOOK_APPROX_SCORED_BONUS=10      # bonus for already-scored offers in approx mode
NOTEBOOK_EXPLORE_UNSCORED_BASE=0     # base ranking score for unscored offers in explore mode
WORKSPACE_SUMMARY_CACHE_TTL_SEC=0    # summary cache ttl in seconds (0 disables cache)
JOB_SOURCE_DIAGNOSTICS_WINDOW_HOURS=72 # default aggregation window for run diagnostics summary
